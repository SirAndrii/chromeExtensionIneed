(()=>{let e=[],o={};chrome.storage.sync.get(["stopWords","colors"],(t=>{e=t.stopWords,o=t.colors}));const t=()=>{const t=document.getElementsByClassName("jobsearch-JobComponent")[0];if(!t)return;e.forEach((e=>function(e,o,t){if(!(o instanceof Node))return;const n=document.createTreeWalker(o,NodeFilter.SHOW_TEXT);let r,s=!1;const c=new RegExp(e,"gi");for(;r=n.nextNode();)r.textContent.match(c)&&(s=!0,r.textContent=r.textContent.replace(c,`@@@${e}@@@`));s&&(o.innerHTML=o.innerHTML.replace(/@@@(.*?)@@@/g,`<span style="background-color: ${t.highlightColor}">$1</span>`),o.style.backgroundColor=t.backgroundColor)}(e,t,o)));const n=t.querySelector(".jobsearch-JobComponent-embeddedBody"),r=n.querySelector(`span[style*="background-color: ${o.highlightColor}"]`);n&&r&&(n.scrollTop=r.offsetTop-260)},n=()=>{const e=/\b(senior|lead|architect|java|\.net|sr\.|manager|\.net)\b/gi,o=[...document.querySelectorAll("h2.jobTitle")];if(0===o.length)return;const t=o.filter((o=>e.test(o.textContent)));0!==o.length&&t.forEach((e=>{const o=e.closest("li");o&&o.remove()}))};new MutationObserver((e=>{for(let o of e)"childList"===o.type&&o.removedNodes.forEach((e=>{console.log(e),e.nodeType!==Node.ELEMENT_NODE||!e.classList.contains("jobsearch-ViewJobSkeleton")&&"viewJob-skeleton"!==e.getAttribute("data-testid")||(console.log("Skeleton removed!"),t(),n())}))})).observe(document,{childList:!0,subtree:!0})})();